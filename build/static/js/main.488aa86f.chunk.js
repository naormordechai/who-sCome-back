(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(50),i=n.n(o),s=n(17),c=n(53),l=n(11),d=n(13),u={rooms:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ROOMS":return Object(d.a)({},e,{rooms:e.rooms.concat(t.rooms)})}return e},m=(n(66),n(5)),h=n(6),f=n(9),g=n(7),b=n(10),v=n(8),x=n.n(v),E=n(14),w=n.n(E),y=n(24),O=n(25),C=n.n(O),k="/room";function j(){return(j=Object(y.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(k);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function R(){return(R=Object(y.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(k,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function N(){return(N=Object(y.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(k,"/checkPassword"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var I={query:function(){return j.apply(this,arguments)},getById:function(e){return R.apply(this,arguments)},checkPassword:function(e){return N.apply(this,arguments)}},P=n(143),S=n(142),_=n(141),D=n(136),A=function(e){var t=e.room,n=e.subHeader;return r.a.createElement(D.a,{to:"/enter password/".concat(t._id),className:n},r.a.createElement("div",null,t.roomName),r.a.createElement("div",null,t.persons.length,"/",t.maxPlayers))},B=function(e){return{personsCount:e.reduce(function(e,t){return e+t.persons.length},0),roomsLength:e.length}},W=x()({container:{padding:"6px"},inputSearch:{borderRadius:"1000px",outline:"none",border:"none",padding:"4px 0px",transition:".3s",textAlign:"center","&:focus":{padding:"4px 3px"}},header:{display:"flex",justifyContent:"space-between",borderBottom:"5px solid rgb(172,50,51)",marginBottom:"25px"},subHeader:{display:"flex",justifyContent:"space-between",margin:"0 8px",color:"#fff",textDecoration:"none"}})(function(e){var t=e.rooms,n=e.classes;return r.a.createElement("div",{className:n.container},r.a.createElement("div",{className:n.header},r.a.createElement("div",null,"Room list"),B(t).roomsLength?r.a.createElement("div",null,B(t).personsCount," players in ",B(t).roomsLength," rooms"):null),r.a.createElement("div",{style:{borderBottom:"1px solid grey",marginBottom:"8px"},className:n.subHeader},r.a.createElement("div",null,"Name"),r.a.createElement("div",null,"Players")),t.map(function(e){return r.a.createElement(A,{key:e._id,room:e,subHeader:n.subHeader})}))}),L=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).hanldeRefresh=function(){window.location.reload()},n.goToCreateRoom=function(){return n.props.history.push("/create room")},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.rooms;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.btnsContainer},r.a.createElement("div",{onClick:this.hanldeRefresh},"Refresh"),r.a.createElement("div",null,"Join Room"),r.a.createElement("div",{onClick:this.goToCreateRoom},"Create Room")),r.a.createElement("div",{className:t.dialog},r.a.createElement(W,{rooms:n})))}}]),t}(r.a.Component),H=Object(l.c)(Object(s.b)(function(e){return{rooms:e.rooms}}),x()({dialog:{backgroundColor:"rgb(26,33,37)"},btnsContainer:{display:"flex",justifyContent:"space-around",marginBottom:"5px","& > *":{backgroundColor:"rgb(47,94,133)",border:"none",padding:"0 20px",height:"30px",display:"flex",alignItems:"center",borderRadius:"1000px",cursor:"pointer"},"& div:nth-child(2)":{backgroundColor:"rgb(62,62,62)"}},container:{maxWidth:"750px",margin:"100px auto"}}))(L),T=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).openRef=function(){n.containerRef.style.transform="translate(-100%, 0)",n.props.closeDialog()},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(){this.props.wrong&&(this.containerRef.style.transform="translate(0)")}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{ref:function(t){return e.containerRef=t},className:t.container},r.a.createElement("div",{className:t.boxErrorPassword},r.a.createElement("div",null,"WRONG PASSWORD"),r.a.createElement("div",{className:t.tryAgain,onClick:this.openRef},"TRY AGAIN")))}}]),t}(r.a.Component),M=x()({container:{height:"100%",width:"100%",position:"fixed",backgroundColor:"rgba(62,62,62, 0.5)",zIndex:"2",transform:"translate(-100%, 0)",transition:".3s"},boxErrorPassword:{position:"relative",padding:"10px",boxShadow:"1px 2px 1px #000",borderRadius:"5px",top:"5%",width:"300px",backgroundColor:"rgb(26,33,37)",margin:"auto",textAlign:"center","& div:first-child":{color:"red",fontWeight:700,marginBottom:"15px"},"& div:last-child":{backgroundColor:"",cursor:"pointer"}},tryAgain:{backgroundColor:"rgb(47,94,133)",width:"50%",margin:"0 auto",borderRadius:"5px","&:hover":{opacity:".7"}}})(T),q=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).onChange=function(e){n.setState(Object(d.a)({},n.state,{roomInfo:{password:e.target.value,_id:n.state.roomInfo._id}}))},n.handlerPassword=function(){I.checkPassword(n.state.roomInfo).then(function(e){if(!e.data)return n.passwordRef.value="",n.isWrong=!0,void n.setState(Object(d.a)({},n.state,{isWrong:!0}));n.props.history.push("/room/".concat(n.state.roomInfo._id))})},n.closeDialog=function(){n.setState(Object(d.a)({},n.state,{isWrong:!1}))},n.handlerCancel=function(){return n.props.history.push("/")},n.state={roomInfo:{password:"",_id:""},isWrong:!1},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(d.a)({},this.state,{roomInfo:{password:this.state.roomInfo.password,_id:this.props.match.params.id}}))}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.isWrong;return r.a.createElement("div",null,r.a.createElement("div",{className:t.wrongPassword},r.a.createElement(M,{wrong:n,closeDialog:this.closeDialog})),r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.title},"Password required"),r.a.createElement("div",{className:t.boxPassword},r.a.createElement("div",null,r.a.createElement("label",null,"Password:")),r.a.createElement("div",null,r.a.createElement("input",{ref:function(t){return e.passwordRef=t},onChange:this.onChange,type:"password"}))),r.a.createElement("div",{className:t.containerBtns},r.a.createElement("div",null,r.a.createElement("span",{onClick:this.handlerCancel},"Cancel")),r.a.createElement("div",null,r.a.createElement("span",{onClick:this.handlerPassword},"Ok")))))}}]),t}(r.a.Component),z=x()({container:{maxWidth:"300px",backgroundColor:"rgb(26,33,37)",margin:"auto",padding:"7px",borderRadius:"5px",transform:"translate(0, 100%)"},wrongPassword:{display:"block"},title:{borderBottom:"5px solid rgb(172,50,51)",fontSize:"22px",marginBottom:"15px"},boxPassword:{backgroundColor:"rgb(36,73,103)",display:"flex",padding:"5px",borderRadius:"5px",alignItems:"center","& label:first-child":{marginRight:"10px"},"& input":{backgroundColor:"rgb(17,22,25)",border:"0",borderRadius:"5px",padding:"3px",outline:"none",textAlign:"center",color:"#fff",fontSize:"15px"}},containerBtns:{display:"flex",marginTop:"10px",textAlign:"center",cursor:"pointer",fontWeight:"700",height:"30px","& div":{borderRadius:"5px",transition:".3s","& span":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},"& div:first-child":{flex:"0 0 50%",backgroundColor:"rgb(36,73,103)",marginRight:"5px"},"& div:last-child":{backgroundColor:"rgb(62,62,62)",flex:"1"},"& div:first-child:hover":{backgroundColor:"rgba(36,73,103,0.5)"},"& div:last-child:hover":{backgroundColor:"rgb(62,62,62,0.5)"},"& div:active":{transform:"scale(.9)",outline:"none"}}})(q),J=function(){return r.a.createElement("div",null,"roomDetails")},G=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Create")}}]),t}(r.a.Component),U=(n(137),function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoadRooms()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(P.a,null,r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.navbar},r.a.createElement("div",null,r.a.createElement("span",null,"who'sCome?")),r.a.createElement(S.a,{to:"/",className:e.navlink,exact:!0,activeClassName:e.active},"Home")),r.a.createElement("div",null,r.a.createElement(_.a,{path:"/",exact:!0,component:H}),r.a.createElement(_.a,{path:"/create room",exact:!0,component:G}),r.a.createElement(_.a,{path:"/enter password/:id",exact:!0,component:z}),r.a.createElement(_.a,{path:"/room/:id",exact:!0,component:J}))))}}]),t}(a.Component)),X=Object(l.c)(Object(s.b)(null,function(e){return{onLoadRooms:function(){return e(function(e){I.query().then(function(t){var n=t.data;return e({type:"LOAD_ROOMS",rooms:n})})})}}}),x()({navbar:{width:"100%",color:"#fff",backgroundColor:"#000",display:"flex",height:"30px",alignItems:"center","& > *":{textDecoration:"none",marginRight:"15px"},"& div:first-child":{display:"flex",alignSelf:"stretch",alignItems:"center",backgroundColor:"#244967","& span":{padding:"0 7px"}}},navlink:{color:"#fff"},active:{color:"#bfcfe1"}}))(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,Y=Object(l.d)(p,V(Object(l.a)(c.a)));i.a.render(r.a.createElement(s.a,{store:Y},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,n){e.exports=n(140)},66:function(e,t,n){}},[[57,2,1]]]);
//# sourceMappingURL=main.488aa86f.chunk.js.map